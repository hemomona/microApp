# kv only support single line annotation with #
# use specific font to make kivy support Chinese
# "#:set a b" in kv equals "a=b" in python
#: kivy 2.1.0
#:set msyh kivy.resources.resource_find("font/MSYH.TTC")
#:set msyhbd kivy.resources.resource_find("font/MSYHBD.TTC")
#:set times kivy.resources.resource_find("font/times.ttf")
#:set timesb kivy.resources.resource_find("font/timesb.ttf")
#:set timesi kivy.resources.resource_find("font/timesi.ttf")
#:set timesbi kivy.resources.resource_find("font/timesbi.ttf")
#:set img 'pics/labmicroscope.jpg'

MyScreenManager:
    MainScreen:
    FeedbackScreen:

# normal style of buttons in MainScreen
<ButtonOfMain@Button>:
    # size_hint means relative width and height of father widget
    size_hint_x: 0.5
    # in x axis, the relative distance to border is 0.25
    pos_hint: {'x': 0.25}
    size_hint_y: None
    height: 60
    font_name: msyhbd
    font_size: '20sp'
    background_color: 0, 0.749, 1, 1

<LabelOfMain@Label>
    font_name: msyhbd
    font_size: '24sp'

<MainScreen>
    name: "main"
    # In AnchorLayout, Widgets can be anchored to
    # the ‘top’, ‘bottom’, ‘left’, ‘right’ or ‘center’.
    AnchorLayout:
        anchor_y: 'top'
        BoxLayout:
#            size_hint: None, None
#            size: 360, 240
            Image:
                source: img
                width: self.width
                height: 240
                size_hint_y: None
                pos_hint: {'top': 1}
                # the following 2 lines to make picture stretch
                allow_stretch: True
                keep_ratio: False
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'top'
        BoxLayout:
            size_hint: None, None
            size: 150, 30
            Label:
                text: 'micro-GCFP'
                font_name: timesbi
                font_size: '24sp'
                color: 0, 0, 0
    AnchorLayout:
        anchor_y: 'top'
        BoxLayout:
            size_hint_y: None
            height: 240
            Label:
                text: '微生物生长曲线拟合\n虚拟实验平台'
                halign: 'center'
                font_name: msyhbd
                font_size: '28sp'
                color: 0, 0, 0
    AnchorLayout:
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 100
            spacing: '20'
            LabelOfMain:
                text: '呈现实验原理 | 辅助实验记录'
            LabelOfMain:
                text: '拟合生长曲线 | 探究生长规律'
    BoxLayout:
        orientation: 'vertical'
        # need to set size_hint_y to None for setting the height
        size_hint_y: None
        height: 360
        spacing: '20'
        padding: 0, 60
        ButtonOfMain:
            text: '开始实验'
            on_release: root.manager.current = 'experiment'
        ButtonOfMain:
            text: '查看记录'
            on_release: root.manager.current = 'records'
        ButtonOfMain:
            text: '用户反馈'
            on_release: root.manager.current = 'feedback'
